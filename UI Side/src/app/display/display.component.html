<app-header></app-header>
<div class="page">
    <!--Filter starts here-->
    <div class="side_bar">
        <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Categories
                </mat-panel-title>
            </mat-expansion-panel-header>
            <mat-nav-list *ngIf="categories">
                    <div class="category1" *ngFor="let category of categories">
                    <a [routerLink]="[ '/display',sectionName, category.category_id]">{{category.category_name}}</a>
                    </div>
            </mat-nav-list>
        </mat-expansion-panel>
        <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Brand
                </mat-panel-title>
            </mat-expansion-panel-header>
            <mat-nav-list *ngIf="brandFilter">
                <form action="#" class="filter_form">
                    <div *ngFor="let bF of brandFilter">
                        <input type="checkbox" (change) = "filterSelectionItems('brand',bF)">
                        <label>{{bF}}</label><br>
                    </div>
                </form>
            </mat-nav-list>
        </mat-expansion-panel>
        <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Price
                </mat-panel-title>
            </mat-expansion-panel-header>
            <mat-nav-list>
                <form action="#" class="filter_form">
                    <!--<input type="range" min="1" max="100" value="50" class="slider" id="myRange">-->
                    <label>Minimum Price</label><input type="text" class="form-control" value={{minPrice}} id="minprice">
                    <label>Maximum Price</label><input type="text" class="form-control" value={{maxPrice}} id="maxprice"> 
                    <button mat-raised-button color="primary" (click)="filterSelectionItems('price',0)">Apply</button>
                </form>
            </mat-nav-list>
        </mat-expansion-panel>
        <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Size
                </mat-panel-title>
            </mat-expansion-panel-header>
            <mat-nav-list *ngIf="sizeFilter">
                <form action="#" class="filter_form">
                    <div *ngFor="let sF of sizeFilter" >
                        <input type="checkbox" name = "Size" (change) = "filterSelectionItems('size',sF)">
                        <label>{{sF}}</label><br>
                    </div>
                </form>
            </mat-nav-list>
        </mat-expansion-panel>
        <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Color
                </mat-panel-title>
            </mat-expansion-panel-header>
            <mat-nav-list *ngIf="colorFilter">
                <form action="#" class="filter_form">
                    <div *ngFor="let cF of colorFilter">
                        <input type="checkbox" name="Color" (change) = "filterSelectionItems('color',cF)">
                        <label>{{cF}}</label><br>
                    </div>
                </form>
            </mat-nav-list>
        </mat-expansion-panel>
    </div>
    <!--Filter end here-->

    <!--Item display starts here-->
    <div class="disp">
        <div *ngIf="items && imgURL" class="row scroll">
            <mat-card *ngFor="let item of items;let i=index" class="col-md-3 example-card" role="button">
                <mat-card-header>
                    <div mat-card-avatar class="example-header-image"></div>
                    <mat-card-title class="text-center">{{item.item_name}}</mat-card-title>
                </mat-card-header>
                <img mat-card-image src="http://localhost:5000/images/{{imgURL[i]}}" alt="item.item_name">
                <mat-card-content class="card_bottom">
                    <p><b>Brand : {{item.item_brand}}</b></p>
                    <p><b>Price : {{item.item_price}}/-</b></p>
                </mat-card-content>
            </mat-card>
        </div>
        <!--<div *ngIf = "!items || !imgURL">
            <div class="spinner-border text-primary" role="status">
                <span class="sr-only">Loading...</span>
              </div>
        </div>-->
    </div>
</div>
<app-footer></app-footer>